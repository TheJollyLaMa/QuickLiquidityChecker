<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quickswap Liquidity Checker</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/visualizer.css">
    <link rel="stylesheet" href="css/lp_contract.css">
    <link rel="shortcut icon" href="./assets/favicon.png" type="image/x-icon">
</head>
<body>
    <header class="header">
        <!-- Sponsor Button -->
        <button id="sponsor-btn" class="sponsor-button">
            <img src="assets/SHT.png" alt="Sponsor"><br>
            Sponsor
        </button>
        <!-- Sponsee Button (Right Side) -->
        <button id="sponsee-btn" class="sponsee-button">
            <img src="assets/SHT.png" alt="Sponsee"><br>
            Sponsee
        </button>
        <div class="icon-container">
            <img src="assets/USDGLO.png" alt="USDGLO Token" class="icon small">
            <img src="assets/Quickswap.png" alt="Quickswap Logo" class="icon large">
            <img src="assets/Ommm.png" alt="OMMM Token" class="icon small">
        </div>
        <h1>Quickswap Liquidity Checker</h1>
        <h3>Liquidity Verification for USDGLO/OMMM on Polygon</h3>
        <hr>
    </header>
    <main>
        <br>
    <!-- Sponsor Modal -->
    <div id="sponsor-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeSponsorModal()">&times;</span>

            <!-- SecretPyramid Image -->
            <img src="assets/SecretPyramid.png" alt="Secret Pyramid" class="secret-pyramid">
            <br>
            <!-- total rewards loaded on contract -->
            <p id="total-rewards">Loading rewards...</p>
            <br>
            <h2>Deposit Rewards</h2>
            <p>Support the community by depositing SHT tokens! Smart Home Test tokens are the official sponsor of this first academic expriment! While the student's LP tokens are locked in the contract, they earn a portion of the sponsored rewards to help them with everyday needs around their home. Buy SmartHomeTest tokens on a decent exchange and deposit them here to support the students as they learn.</p>
            <a href="https://quickswap.exchange/#/swap?swapIndex=0&currency0=0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359&currency1=0x81cCeF6414D4CDbed9FD6Ea98c2D00105800cd78" target="_blank" class="button sht-link">
                <img src="assets/SHT.png" alt="Smart Home Test Token" class="sht-icon"><br>
                Buy SHT on Quickswap
            </a><br>
            <label for="sponsor-amount">Amount (SHT):</label>
            <input type="number" id="sponsor-amount" placeholder="Enter amount" min="1">

            <label for="sponsor-note">Note (optional):</label>
            <textarea id="sponsor-note" placeholder="Leave a note"></textarea>

            <button id="sponsor-submit">Submit</button>
            <br><br>
            <!-- Sponsor Leaderboard -->
            <div id="sponsor-list" class="sponsor-list">
                <h3>üèÜ Top Sponsors</h3>
                <p>Loading...</p>
            </div>

        </div>
    </div>

    <!-- Sponsee Modal -->
    <div id="sponsee-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeSponseeModal()">&times;</span>

            <!-- SecretPyramid Image -->
            <img src="assets/SecretPyramid.png" alt="Secret Pyramid" class="secret-pyramid">
            <br>

            <h2>Your Rewards</h2>
            <p><strong>Connected Wallet:</strong> <span id="connected-wallet">Loading...</span></p>
            <p id="nft-status">Checking NFT Lock Status...</p>
            
            <div id="locked-nfts" class="locked-nfts">Loading NFTs...</div>

            <br>
            <!-- Claimable Rewards -->
            <div id="claimable-rewards" class="rewards-display">
                <a href="https://polygonscan.com/address/${SHT_CONTRACT_ADDRESS}" target="_blank">
                    <div class="token-container">
                        <img src="assets/SHT.png" alt="SHT Token" class="sht-glow">
                        <img src="assets/Polygon.png" alt="Polygon Logo" class="polygon-icon">
                    </div>
                </a>
                <div class="rewards-text">
                    <strong>Claimable Rewards:</strong><br>
                    <span id="claim-amount">Loading...</span> SHT
                </div>
            </div>

            <br>
            <button id="claim-rewards-btn">Claim Rewards</button>

            <br><br>
            <!-- Top 10 Claimers List -->
            <div id="top-claimers" class="sponsor-list">
                <h3>üèÜ Top Claimers</h3>
                <p>Loading...</p>
            </div>
        </div>
    </div>

        <div class="container">
            <h2>Liquidity Visualization</h2>
            <br><br>
            <div class="visualizer-container">
                <div class="chart-container">
                    <!-- Outer Circle Tokens -->
                             <!-- Outer Liquidity (Broad Range) -->
                    <div id="outerLpValues"></div>
                    <img src="assets/USDGLO.png" alt="USDGLO Token" class="usdglo-outer tokens">
                    <img src="assets/Ommm.png" alt="OMMM Token" class="ommm-outer tokens">
                    
                    <!-- Outer Liquidity -->
                    <div id="outerLpTokens"></div>
                    
                    <!-- Inner Circle Tokens -->
                    <div id="innerLpValues"></div>
                    <img src="assets/USDGLO.png" alt="USDGLO Token" class="usdglo-inner tokens">
                    <img src="assets/Ommm.png" alt="OMMM Token" class="ommm-inner tokens">
                    
                    <!-- Inner Liquidity -->
                    <div id="innerLpTokens"></div>
                    
                    <!-- Current Tick (Price) -->
                    <div class="current-tick"></div>
                </div>
            </div>
        </div>
        <br><br><br><br><br>
        <br><br>
        <hr>

        <div class="liquidity-details">
            <h2>Liquidity Token Details</h2>
            <div id="broad-range-details" class="token-details">
                <h3>Broad Range Token</h3>
                <p id="broad-range-info">Loading...</p>
            </div>
            <div id="targeted-range-details" class="token-details">
                <h3>Targeted Range Token</h3>
                <p id="targeted-range-info">Loading...</p>
            </div>
        </div>

        <br><br>
        <hr>
        <br><br>
        <hr>
        <section class="liquidity-checker">
            <h2>Liquidity Token Checker</h2>
            <p>Enter your Liquidity Position NFT ID to verify eligibility for class access.</p>
            <input type="text" id="token-id" placeholder="Enter Liquidity Token ID">
            <button type="button" onclick="checkLiquidity()">Check</button>
        </section>
        <br><br>
        <hr>
        <br><br>
    </main>
    
    <footer>
        <div class="icon-container">
            <img src="assets/USDGLO.png" alt="USDGLO Token" class="icon small">
            <img src="assets/Quickswap.png" alt="Quickswap Logo" class="icon medium">
            <img src="assets/Polygon.png" alt="Polygon Logo" class="icon large">
            <img src="assets/Quickswap.png" alt="Quickswap Logo" class="icon medium">
            <img src="assets/Ommm.png" alt="OMMM Token" class="icon small">
        </div>
        <p> ‚òÇÔ∏è</p>
        <p>‚ö∏ üßû‚Äç‚ôÇÔ∏è</p>
        <p> Verifying Liquidity for a Smarter Future</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.0/ethers.umd.min.js"></script>
    <script defer src="js/app.js"></script>
    <script defer src="js/tokeninfo.js"></script>

    <script defer src="js/lpLock_Stake_Farm.js"></script>

</body>
</html>
